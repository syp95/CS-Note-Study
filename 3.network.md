# 네트워크의 기초

-   노드와 링크가 서로 연결되어 있으며, 리소스를 공유하는 집합

    -   노드 : 서버, 라우터, 스위치 등 네트워크 장치
    -   링크 : 무선, 우선

-   처리량 : 초당 전송되는 비트 수 (bps/bits per second)
-   지연 시간 : 요청 처리 시간, 메시지의 두 장치 왕복 시간

    -   매체 타입(유선, 무선), 패킷 크기, 라우터 패킷 처리 시간에 영향

-   네트워크 토폴로지 : 네트워크 구조

    -   트리 토폴로지 : 트리 형태 구성, 노드 추가 삭제 쉬움
    -   버스 토폴로지 : 랜, 중앙 회선에 여러 노드가 연결되어 공유
    -   스타 토폴로지 : 중앙형 중심 구성
    -   링형 토폴로지 : 고리로 일렬 연결 구성
    -   망형(메시) 토폴로지 : 고리 + 서로 다 연결

-   병목 현상 : 하나의 요소로 전체 시스템 성능, 용량이 제한 받는 현상

    -   병의 목 지름이 좁아 천천히 쏟아지는 것에 비유.
    -   대역폭, 토폴로지에 영향을 많이 받음

-   네트워크 분류

    -   LAN(Local Area Network) : 사무실, 개인
    -   MAN(Metropolitan ...) : 서울시 등 시
    -   WAN(Wide ...) : 전세계

-   네트워크 성능 분석 명령어

    -   네트워크 관련 테스트와 무관한 테스트를 진행해 본 후 문제 원인을 파악
    -   ping [IP 주소, 도메인 주소]
        -   대상 노드를 향해 일정 크기의 패킷을 전송
        -   대상 노드의 수신 상태와 도달하기까지 시간 등을 알 수 있음
        -   TCP/IP 프로토콜 중 ICMP 프로토콜을 통해 동작
            -   ICMP 프로토콜 지원하지 않는 기기, ICMP, traceroute 차단의 경우 테스팅 불가능
    -   netstat
        -   접속되어 있는 서비스들의 네트워크 상태 표시
        -   주로 서비스 포트가 열려있는지 확인할 때 사용
    -   nslookup
        -   DNS 관련 내용 확인
    -   tracert
        -   대상 노드까지 네트워크 경로를 확인할 때 사용
            -   대상 노드까지 구간 중 어느 구간의 응답 시간이 느린 지 확인

-   네트워크 프로토콜 표준화
    -   IEEE, IETP 표준화 단체가 결정

# TCP/IP 4계층 모델

-   OSI 7계층 모델로 설명하기도 함.

    -   OSI 7계층

        -   애플리케이션 계층
        -   프레젠테이션 계층
        -   세션 계층
        -   전송 계층
        -   네트워크 계층
        -   데이터 링크 계층
        -   물리 계층

    -   어플리케이션 계층을 세 개로 쪼개고, 링크 계층을 데이터 링크 계층, 물리 계층으로 나눠서 표현, 인터넷 계층을 네트워크 계층으로 부름

-   TCP/IP 4계층

    -   애플리케이션 계층 : FTP / HTTP / SSH / SMTP / DNS

    -   전송 계층 : TCP / UDP / QUIC

        -   TCP > 가상회선 패킷 교환 방식

            -   패킷 사이 순서 보장
            -   연결지향 프로토콜을 사용, 신뢰성 구축, 수신여부 확인

            -   TCP 연결은 3웨이 핸드셰이크 과정

                1.  SYN 단계 : 클라이언트 ISN을 담아 SYN을 보냄
                    -   SYN : SYNchronization, 연결 요청 플래그
                    -   ISN : 연결 첫 번째 패킷에 할당된 임의의 시퀀스 번호
                2.  SYN + ACK 단계 : 서버에서 SYN을 수신하고 서버 ISN와 클라이언트 ISN + 1을 보냄

                    -   ACK : 응답 플래그

                3.  ACK 단계 : 클라이언트에서 서버의 ISN + 1 값을 담아 ACK를 서버로 보냄

            -   TCP 연결 해제는 4웨이 핸드셰이크 과정
                1.  클라이언트가 FIN으로 설정된 세그먼트를 보냄, 클라이언트는 FIN_WAIT_1 상태로 서버 응답 기다림
                    -   세그먼트 : LAN 구성, 분할, 기본단위
                2.  서버가 ACK 승인 세그먼트를 클라이언트로 보냄, CLOSE_WAIT 상태에 들어감, 클라이언트가 세그먼트를 받으면 FIN_WAIT_2 상태
                3.  서버는 ACK를 보낸 후 일정 시간 뒤 FIN 세그먼트를 클라이언트에 보냄
                4.  클라이언트가 TIME_WAIT 상태가 되고, 다시 서버로 ACK를 보내고 서버는 CLOSED 상태가 됨
                    -   이후 클라이언트는 어느 정도 시간을 대기 후 연결이 닫힘
                    -   TIME_WAIT
                        -   데이터 무결성을 위해, 지연되는 패킷이 있는 경우를 대비
                        -   두 장치 연결이 닫혔는 지 확인
                        -   OS마다 다름

        -   UDP > 데이터그램 패킷 교환 방식
            -   순서 보장하지 않음
            -   수신여부 확인하지 않음
            -   데이터만 전송

    -   인터넷 계층 : IP / ARP / ICMP

        -   장치로부터 받은 네트워크 패킷을 지정된 IP 주소로 전송하기 위해 사용되는 계층

    -   링크 계층 : 이더넷

        -   전선, 광섬유, 무선 등으로 실질적으로 데이터를 전달, 장치 간 신호를 주교받는 규칙을 정하는 계층
        -   네트워크 접근 계층 이라고도 함.

#
